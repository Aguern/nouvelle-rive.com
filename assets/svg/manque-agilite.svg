<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .chain-link {
        fill: none;
        stroke: var(--ardoise);
        stroke-width: 4;
        transform: rotate(var(--state-rotation, 0deg));
        transform-origin: center;
        transition: transform 0.6s ease;
      }
      .broken-chain {
        stroke: var(--cuivre);
        opacity: var(--state-opacity, 0);
        transition: opacity 0.6s ease;
      }
      .flexibility-lines {
        stroke: var(--glacier);
        stroke-width: 2;
        opacity: var(--state-flex, 0.2);
        transition: opacity 0.6s ease;
      }
    </style>
  </defs>

  <!-- Lignes de flexibilité en arrière-plan -->
  <g class="flexibility-lines">
    <path d="M50,200 Q150,100 250,200 T450,200" fill="none" stroke-dasharray="3,3"/>
    <path d="M200,50 Q300,150 200,250 T200,450" fill="none" stroke-dasharray="3,3"/>
    <path d="M100,100 Q200,150 300,100" fill="none" stroke-dasharray="2,2"/>
    <path d="M100,300 Q200,250 300,300" fill="none" stroke-dasharray="2,2"/>
  </g>

  <!-- Chaîne rigide -->
  <g>
    <!-- Maillon 1 -->
    <ellipse cx="120" cy="200" rx="25" ry="40" class="chain-link"/>
    <!-- Maillon 2 -->
    <ellipse cx="170" cy="200" rx="25" ry="40" class="chain-link"/>
    <!-- Maillon 3 (cassé) -->
    <ellipse cx="220" cy="200" rx="25" ry="40" class="chain-link"/>
    <!-- Maillon 4 -->
    <ellipse cx="270" cy="200" rx="25" ry="40" class="chain-link"/>

    <!-- Cassure -->
    <g class="broken-chain">
      <line x1="245" y1="180" x2="255" y2="170" stroke-width="3"/>
      <line x1="245" y1="220" x2="255" y2="230" stroke-width="3"/>
      <circle cx="250" cy="175" r="2"/>
      <circle cx="250" cy="225" r="2"/>
    </g>
  </g>

  <!-- Flèches de rigidité -->
  <g opacity="0.4">
    <path d="M80,180 L80,220 M70,190 L80,180 L90,190" stroke="var(--ardoise)" stroke-width="2" fill="none"/>
    <path d="M320,180 L320,220 M310,190 L320,180 L330,190" stroke="var(--ardoise)" stroke-width="2" fill="none"/>
  </g>

  <!-- Points de tension -->
  <circle cx="145" cy="160" r="3" fill="var(--cuivre)" opacity="0.5"/>
  <circle cx="195" cy="160" r="3" fill="var(--cuivre)" opacity="0.5"/>
  <circle cx="145" cy="240" r="3" fill="var(--cuivre)" opacity="0.5"/>
  <circle cx="195" cy="240" r="3" fill="var(--cuivre)" opacity="0.5"/>
</svg>